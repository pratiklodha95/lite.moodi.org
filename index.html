<!DOCTYPE html>
<html>
<head>
	<title>Mood Indigo</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>

	<script>
		$.get("https://moodi.org/api/city",function(data){
			console.log(data);
			var city=data.data;
			for(var i=0;i<city.length;i++)
			{
				$('#city').append('<option VALUE='+city[i].city_id+'>'+city[i].city_name+'</option>')
			}
		});
		function getCollege(id){
			$.post("https://moodi.org/api/college",{city:id},function(data){
				console.log(data);
				var college=data.data;
				for(var i=0;i<college.length;i++)
				{
					$('#college').append('<option VALUE='+college[i].clg_id+'>'+college[i].clg_name+'</option>')
				}

		}
		)};
		function randm(){
			var city=$('#city').val();
			var name =$('#name').val();
			var email=$('#email').val();
			var mobile=$('#mobile').val();
			var bday=$('bday').val()
			var gender=$('#gender').val();
			var college=$('#college').val();
			var year=$('#year').val();
			console.log(city+' '+name+' '+email+' '+mobile+' '+bday+' '+gender+' '+college+' '+year);
			$.post("http://lite.moodi.org/api/submit",{city:city, name:name,
				email:email, mobile:mobile, bday:bday, gender:gender, college:college, year:year},function(data){
				console.log(data);
			});
		}
	</script>
	<style type="text/css">
	.form-signin{
		max-width: 350px;
		margin: 0 auto;
		padding: 15px;
	}
	</style>
</head>
<body>
<!--  For now lets directly deal with only MI-NO registration -->

<div>
 <div class="registration">
	<!-- <ul>
		<li>same field as the main website</li>
		<li>need to call the city api</li>
		<li>need to college api whenever city selected change</li>
		<li>submit complete data to backend for verification</li>
	</ul> 	

	<ol>
		<li>need to add captcha later on</li>
		<li>display the new MI-NO on the postive response</li>
		<li>If any data is same, display already registered and display the old mi-no</li>
		<li>If any error display all the error</li>
	</ol>
	 -->
	<form class="form-signin">
	<div class="form-group">
	<label class="control-label">Name</label>
	<input class="form-control" type="text" id="name" placeholder="Full name"/>
	<span id="nameerr"></span>
	</div>
	<div class="form-group">
	<label class="control-label">Email ID</label>
	<input class="form-control" type="text" id="email" placeholder="Email ID"/></div>
	<div class="form-group">
	<label class="control-label">Mobile No.</label>
	<input class="form-control" type="text" id="mobile" placeholder="Mobile No."/></div>
	<div class="form-group">
	<label class="control-label">Date of birth</label>
	<input class="form-control" type="date" id="bday"/>
	<!--<span class="help-block">A block of help text that breaks onto a new line and may extend beyond one line.</span>-->
	</div>
	<div class="form-group">
	<label class="control-label">Gender: </label>
	<label class="radio-inline">
		<input type="radio" name="gender" value="male">Male
	</label>
	<label class="radio-inline">
		<input type="radio" name="gender" value="female">Female
	</label>
	<label class="radio-inline">
		<input type="radio" name="gender" value="other">Other
	</label>
	</div>
	<div class="form-group">
	<label class="control-label">City</label>
	<select class="form-control" id="city" name="city" onChange="getCollege(this.value)"> </select>
	</div>
	<div class="form-group">
	<label class="control-label">College</label>
	<select class="form-control" id="college" name="college"> </select>
	</div>
	<div class="form-group">
	<label class="control-label">Year</label>
	<select class="form-control" id="year">
		<option value="first">first</option>
		<option value="second">second</option>
		<option value="third">third</option>
		<option value="fourth">fourth</option>
		<option value="fifth">fifth</option>
	</select>
	</div>
	<input class="btn btn-lg btn-primary btn-block" type="submit" onclick="randm()" />
 	</form>
 </div>
</div>
</body>
</html>
